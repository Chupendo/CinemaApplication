<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">

    <!-- ChangeSet to insert data for the table USER -->
    <changeSet id="insert-data-user" author="andres.rpenuela" context="rating-dev">
        <insert tableName="users">
            <column name="ID" value="1" />
            <column name="USERNAME" value="user" />
            <column name="PASSWORD" value="$2a$12$lWqfNW9r93S7NnsOEBtMseFV.1Wn/S9qQ0o91ND0hd0xoEDEBGXLW" />
            <column name="PASSWORD_BIS" value="$2a$12$lWqfNW9r93S7NnsOEBtMseFV.1Wn/S9qQ0o91ND0hd0xoEDEBGXLW" />
            <column name="EMAIL" value="user@rating.com" />
            <column name="CREATE_AT" valueDate="2024-12-30T12:00:00" />
            <column name="LAST_LOGIN_AT" valueDate="2024-12-30T12:00:00" />
        </insert>

        <insert tableName="users">
            <column name="ID" value="2" />
            <column name="USERNAME" value="admin" />
            <column name="PASSWORD" value="$2a$12$5a6RB9Wu6Gw4V41h7x3PeuwKLwd29v/Vh6b2T.mDzqarTRurI9x2W" />
            <column name="PASSWORD_BIS" value="$2a$12$5a6RB9Wu6Gw4V41h7x3PeuwKLwd29v/Vh6b2T.mDzqarTRurI9x2W" />
            <column name="EMAIL" value="admin@rating.com" />
            <column name="CREATE_AT" valueDate="2024-12-30T12:00:00" />
            <column name="LAST_LOGIN_AT" valueDate="2024-12-30T12:00:00" />
        </insert>
    </changeSet>

    <!-- ChangeSet to insert data for the table ROLE -->
    <changeSet id="insert-data-roles" author="andres.rpenuela" context="rating-dev">
        <insert tableName="roles">
            <column name="ID" value="1" />
            <column name="NAME" value="USER" />
        </insert>

        <insert tableName="roles">
            <column name="ID" value="2" />
            <column name="NAME" value="ADMIN" />
        </insert>
    </changeSet>

    <!-- ChangeSet to insert data for the table AUTHORITIES -->
    <changeSet id="insert-authorities-data" author="andres.rpenuela" context="rating-dev">
        <insert tableName="authorities">
            <column name="ID" value="1"/>
            <column name="NAME" value="READ"/>
        </insert>
        <insert tableName="authorities">
            <column name="ID" value="2"/>
            <column name="NAME" value="WRITER"/>
        </insert>
    </changeSet>

    <!-- ChangeSet to insert data for the table SCOPES -->
    <changeSet id="insert-scopes-data" author="andres.rpenuela" context="rating-dev">
        <insert tableName="scopes">
            <column name="ID" value="1"/>
            <column name="NAME" value="OPENID"/>
        </insert>
        <insert tableName="scopes">
            <column name="ID" value="2"/>
            <column name="NAME" value="PROFILE"/>
        </insert>
        <insert tableName="scopes">
            <column name="ID" value="3"/>
            <column name="NAME" value="READ"/>
        </insert>
        <insert tableName="scopes">
            <column name="ID" value="4"/>
            <column name="NAME" value="WRITER"/>
        </insert>
    </changeSet>

    <!-- ChangeSet to insert data for the relationship N:N of roles-authorities  -->
    <changeSet id="insert-roles-authorities-data" author="andres.rpenuela" context="rating-dev">
        <!-- user role -->
       <insert tableName="roles_authorities">
           <column name="role_id" value="1"/>
           <column name="authority_id" value="1"/>
       </insert>
        
        <!-- admin role -->
        <insert tableName="roles_authorities">
            <column name="role_id" value="2"/>
            <column name="authority_id" value="1"/>
        </insert>
        <insert tableName="roles_authorities">
            <column name="role_id" value="2"/>
            <column name="authority_id" value="2"/>
        </insert>
    </changeSet>

    <!-- ChangeSet to insert data for the relationship N:N of roles-authorities  -->
    <changeSet id="insert-roles-scopes-data" author="andres.rpenuela">
        <!-- user role -->
        <insert tableName="roles_scopes">
            <column name="role_id" value="1"/>
            <column name="scope_id" value="1"/>
        </insert>
        <insert tableName="roles_scopes">
            <column name="role_id" value="1"/>
            <column name="scope_id" value="2"/>
        </insert>
        <insert tableName="roles_scopes">
            <column name="role_id" value="1"/>
            <column name="scope_id" value="3"/>
        </insert>

        <!-- admin role -->
        <insert tableName="roles_scopes">
            <column name="role_id" value="2"/>
            <column name="scope_id" value="1"/>
        </insert>
        <insert tableName="roles_scopes">
            <column name="role_id" value="2"/>
            <column name="scope_id" value="2"/>
        </insert>
        <insert tableName="roles_scopes">
            <column name="role_id" value="2"/>
            <column name="scope_id" value="3"/>
        </insert>
        <insert tableName="roles_scopes">
            <column name="role_id" value="2"/>
            <column name="scope_id" value="4"/>
        </insert>
    </changeSet>

    <!-- ChangeSet to insert data for the ChangeSet to insert data for the relationship N:N of users_roles -->
    <changeSet id="insert-roles-user-data" author="andres.rpenuela" context="rating-dev">
        <insert tableName="users_roles">
            <column name="role_id" value="1"/>
            <column name="user_id" value="1"/>
        </insert>

        <insert tableName="users_roles">
            <column name="role_id" value="2"/>
            <column name="user_id" value="2"/>
        </insert>
    </changeSet>
</databaseChangeLog>
